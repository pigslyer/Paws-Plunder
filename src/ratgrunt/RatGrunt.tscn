[gd_scene load_steps=43 format=3 uid="uid://cg00j01nnvmu2"]

[ext_resource type="Texture2D" uid="uid://boqbp14w2bfpn" path="res://src/assets/grunt_idle1/Grunt_idle_first0003.png" id="1"]
[ext_resource type="Texture2D" uid="uid://0gdxvnphdvgi" path="res://src/assets/grunt_idle1/Grunt_idle_first0002.png" id="2"]
[ext_resource type="Script" path="res://src/ratgrunt/RatGrunt.cs" id="3"]
[ext_resource type="PackedScene" path="res://src/bullet/Bullet.tscn" id="4"]
[ext_resource type="Texture2D" uid="uid://dsxdr2jyqy2x5" path="res://src/assets/grunt_idle1/Grunt_idle_first0004.png" id="5"]
[ext_resource type="Texture2D" uid="uid://cknseur7taaay" path="res://src/assets/grunt_idle1/Grunt_idle_first0007.png" id="6"]
[ext_resource type="Texture2D" uid="uid://bhcd6o5ec7smb" path="res://src/assets/grunt_idle1/Grunt_idle_first0009.png" id="8"]
[ext_resource type="Texture2D" uid="uid://cnqlyrlpdpg7o" path="res://src/assets/grunt_idle1/Grunt_idle_first0000.png" id="9"]
[ext_resource type="Texture2D" uid="uid://cf7u55n6i46m2" path="res://src/assets/grunt_idle1/Grunt_idle_first0008.png" id="10"]
[ext_resource type="Texture2D" uid="uid://bagxvqgsfi303" path="res://src/assets/grunt_idle1/Grunt_idle_first0001.png" id="11"]
[ext_resource type="Texture2D" uid="uid://b3vcrrpsfyisc" path="res://src/assets/grunt_idle1/Grunt_idle_first0005.png" id="12"]
[ext_resource type="Texture2D" uid="uid://c2y6ofdbvlxqk" path="res://src/assets/grunt_idle1/Grunt_idle_first0006.png" id="13"]
[ext_resource type="Texture2D" uid="uid://c3sd5fqnk34dh" path="res://src/assets/grunt_idle2/Grunt_idle_second0001.png" id="14"]
[ext_resource type="Texture2D" uid="uid://tnq028nfemyc" path="res://src/assets/grunt_idle2/Grunt_idle_second0002.png" id="15"]
[ext_resource type="Texture2D" uid="uid://w3cq2como4b6" path="res://src/assets/grunt_idle2/Grunt_idle_second0003.png" id="16"]
[ext_resource type="Texture2D" uid="uid://do48tmv76p7kb" path="res://src/assets/grunt_idle2/Grunt_idle_second0004.png" id="17"]
[ext_resource type="Texture2D" uid="uid://up0wkbfytc3t" path="res://src/assets/grunt_idle2/Grunt_idle_second0000.png" id="19"]
[ext_resource type="Texture2D" uid="uid://5bpbed7fmbm3" path="res://src/assets/grunt_idle2/Grunt_idle_second0005.png" id="20"]
[ext_resource type="Texture2D" uid="uid://b8b06j1am8cfy" path="res://src/assets/grunt_shoot/Grunt_fire0002.png" id="21"]
[ext_resource type="Texture2D" uid="uid://dud8wkcj5vscj" path="res://src/assets/grunt_shoot/Grunt_fire0004.png" id="22"]
[ext_resource type="Texture2D" uid="uid://bxueyqa1qp732" path="res://src/assets/grunt_shoot/Grunt_aim.png" id="23"]
[ext_resource type="Texture2D" uid="uid://5vylaqg0g3vh" path="res://src/assets/grunt_shoot/Grunt_fire0003.png" id="24"]
[ext_resource type="Texture2D" uid="uid://c7d570m3no73e" path="res://src/assets/grunt_shoot/Grunt_fire0005.png" id="25"]
[ext_resource type="Texture2D" uid="uid://mwplrgiplhor" path="res://src/assets/grunt_shoot/Grunt_fire0000.png" id="26"]
[ext_resource type="Texture2D" uid="uid://ba02tt03q87if" path="res://src/assets/grunt_shoot/Grunt_fire0001.png" id="27"]
[ext_resource type="Texture2D" uid="uid://dpft1anbexnkc" path="res://src/assets/grunt_shoot/Grunt_fire0006.png" id="28"]
[ext_resource type="Texture2D" uid="uid://becqy8oum2ije" path="res://src/assets/grunt_death/Grunt_dead0004.png" id="29"]
[ext_resource type="Texture2D" uid="uid://b80ourugn2ydc" path="res://src/assets/grunt_death/Grunt_dead0000.png" id="30"]
[ext_resource type="Texture2D" uid="uid://dcaa3wr5cm5qs" path="res://src/assets/grunt_death/Grunt_dead0002.png" id="31"]
[ext_resource type="Texture2D" uid="uid://dqj81qscu17oh" path="res://src/assets/grunt_death/Grunt_dead0001.png" id="32"]
[ext_resource type="Texture2D" uid="uid://ceedj3sy75lix" path="res://src/assets/grunt_death/Grunt_dead0005.png" id="33"]
[ext_resource type="Texture2D" uid="uid://e88qn085uer1" path="res://src/assets/grunt_death/Grunt_dead0003.png" id="34"]
[ext_resource type="AudioStream" uid="uid://b22nqp5ypb64d" path="res://src/assets/sounds/enemies/enemy_damage.mp3" id="35"]
[ext_resource type="AudioStream" uid="uid://co5cvw03scsvj" path="res://src/assets/sounds/weapons/pistol_fire.mp3" id="36"]
[ext_resource type="AudioStream" uid="uid://ddltxy2mxydmo" path="res://src/assets/sounds/enemies/enemy_footsteps.mp3" id="37"]
[ext_resource type="AudioStream" uid="uid://b2y31hom5ptla" path="res://src/assets/sounds/enemies/grunt_attack.mp3" id="38"]
[ext_resource type="Script" path="res://src/ratgrunt/RatGruntSounds.cs" id="39"]
[ext_resource type="PackedScene" path="res://src/ratgrunt/GruntGun.tscn" id="40"]
[ext_resource type="Texture2D" uid="uid://dkbesc15dwvrs" path="res://src/assets/grunt_walk/Grunt_walk0001.png" id="41"]
[ext_resource type="Texture2D" uid="uid://d3r1v8nte72ma" path="res://src/assets/grunt_walk/Grunt_walk0000.png" id="42"]

[sub_resource type="CapsuleShape3D" id="1"]
radius = 0.65
height = 1.3

[sub_resource type="SpriteFrames" id="2"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("30")
}, {
"duration": 1.0,
"texture": ExtResource("32")
}, {
"duration": 1.0,
"texture": ExtResource("31")
}, {
"duration": 1.0,
"texture": ExtResource("34")
}, {
"duration": 1.0,
"texture": ExtResource("29")
}, {
"duration": 1.0,
"texture": ExtResource("33")
}],
"loop": false,
"name": &"Death",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("19")
}, {
"duration": 1.0,
"texture": ExtResource("14")
}, {
"duration": 1.0,
"texture": ExtResource("15")
}, {
"duration": 1.0,
"texture": ExtResource("16")
}, {
"duration": 1.0,
"texture": ExtResource("17")
}, {
"duration": 1.0,
"texture": ExtResource("20")
}],
"loop": true,
"name": &"Idle",
"speed": 6.5
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9")
}, {
"duration": 1.0,
"texture": ExtResource("11")
}, {
"duration": 1.0,
"texture": ExtResource("2")
}, {
"duration": 1.0,
"texture": ExtResource("1")
}, {
"duration": 1.0,
"texture": ExtResource("5")
}, {
"duration": 1.0,
"texture": ExtResource("12")
}, {
"duration": 1.0,
"texture": ExtResource("13")
}, {
"duration": 1.0,
"texture": ExtResource("6")
}, {
"duration": 1.0,
"texture": ExtResource("10")
}, {
"duration": 1.0,
"texture": ExtResource("8")
}],
"loop": false,
"name": &"IdleSwordSwing",
"speed": 7.5
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("23")
}, {
"duration": 1.0,
"texture": ExtResource("26")
}, {
"duration": 1.0,
"texture": ExtResource("27")
}, {
"duration": 1.0,
"texture": ExtResource("21")
}, {
"duration": 1.0,
"texture": ExtResource("24")
}, {
"duration": 1.0,
"texture": ExtResource("22")
}, {
"duration": 1.0,
"texture": ExtResource("25")
}, {
"duration": 1.0,
"texture": ExtResource("28")
}],
"loop": true,
"name": &"Shoot",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("42")
}, {
"duration": 1.0,
"texture": ExtResource("41")
}],
"loop": true,
"name": &"Walk",
"speed": 5.0
}]

[node name="RatGrunt" type="CharacterBody3D" node_paths=PackedStringArray("_agent", "_sprite", "_centerOfMass", "_sounds")]
collision_layer = 4
script = ExtResource("3")
_bulletScene = ExtResource("4")
_droppedGunScene = ExtResource("40")
_agent = NodePath("NavigationAgent")
_sprite = NodePath("AnimatedSprite3D")
_centerOfMass = NodePath("CenterOfMass")
_sounds = NodePath("Sounds")

[node name="CollisionShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.85951, 0)
shape = SubResource("1")

[node name="AnimatedSprite3D" type="AnimatedSprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.516, 0)
pixel_size = 0.1
billboard = 2
texture_filter = 4
sprite_frames = SubResource("2")
animation = &"Idle"

[node name="NavigationAgent" type="NavigationAgent3D" parent="."]
target_desired_distance = 2.0

[node name="CenterOfMass" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.26232, 0)

[node name="Sounds" type="Node3D" parent="." node_paths=PackedStringArray("Fire", "Death", "Footsteps", "AttackBark")]
script = ExtResource("39")
Fire = NodePath("Fire")
Death = NodePath("Death")
Footsteps = NodePath("Footsteps")
AttackBark = NodePath("AttackBark")

[node name="Fire" type="AudioStreamPlayer3D" parent="Sounds"]
stream = ExtResource("36")
unit_size = 20.0
max_db = 6.0
bus = &"SFX"

[node name="Death" type="AudioStreamPlayer3D" parent="Sounds"]
stream = ExtResource("35")
unit_size = 6.0
max_db = 6.0
bus = &"Voice"

[node name="Footsteps" type="AudioStreamPlayer3D" parent="Sounds"]
stream = ExtResource("37")
unit_size = 15.0
max_db = 6.0
bus = &"SFX"

[node name="AttackBark" type="AudioStreamPlayer3D" parent="Sounds"]
stream = ExtResource("38")
unit_size = 15.0
max_db = 6.0
bus = &"Voice"

[connection signal="animation_finished" from="AnimatedSprite3D" to="." method="OnAnimationFinished"]
[connection signal="frame_changed" from="AnimatedSprite3D" to="." method="OnAnimationFrameChanged"]
